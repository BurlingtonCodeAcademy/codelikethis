# The Zen of Refactoring

![buddha](./zen/buddha-statue.jpg)

Refactoring is the process of restructuring existing computer code – changing its *factoring* – without changing its behavior. You probably knew that. But did you know it’s also a meditation technique? Come improve your practice of mindful coding.

After these slides, we’ll start with some actual production code, make sure its unit tests work ok, then collaboratively, consciously contemplate the many forking paths that twine and wind through the Garden of Abstract Delights.

# What is Zen?

![zen](./zen/don-zen.gif)

mostly an excuse for fun pictures

# What is Refactoring?

Refactoring is changing code without changing its behavior.

# What is Refactoring?

Refactoring is changing code without changing its behavior.

Refactoring is change without change.

# What is Refactoring?

Refactoring is changing code without changing its behavior.

Refactoring is change without change.

Refactoring is nothing.

# What is Refactoring?

Refactoring is changing code without changing its behavior.

Refactoring is change without change.

Refactoring is nothing.

Refactoring is everything.

# refactoring is NOT

rewriting

rebuilding

porting

upgradging

# verb or noun?

* refactoring is a process

* *a* refactoring is a technique
  * like a kata

# Fowler's definition:

> refactoring (noun): a change made to the internal structure of software to make it easier to understand and cheaper to modify without changing its observable behavior

> refactoring (verb): to restructure software by applying a series of refactorings without changing its observable behavior

# Why refactor?

![yoda](zen/yoda-clear-your-mind.gif)

# Refactor to understand

Clarity calm insight knowledge

![pool](zen/hand-pool.gif)

See the code for what it is, not what you think it is, or what you want it to be

# Refactor to remove duplication

DRY

![sand](zen/stone-sand.png)

# Refactor to increase code clarity

readability

modularity

maintainability

teamwork

change

# "Zen Refactoring"

Let your eyes blur and scroll through the code

See what pops out

  * duplication?
  * repetition?
  * long lines? long methods?
  * strange gaps?
  * comments?



# What are the qualities of a refactoring?

# Reversible

![reversible](./zen/spinning-yin-yang.gif)

# Mechanical

![grievous.gif](./zen/grievous.gif)

# How?

1. Write some tests
2. Change the code
3. Run the tests
4. Move ahead, or back

# Tests

run them before

change them during

tests are a valid target of code

# Automated

I choose my text editor based on how well it refactors

# Refactoring: Rename

The simplest and most powerful

# Refactoring: Extract

Extract variable, extract method, extract class

# Refactoring: Inline

Introduce duplication, increase clarity

# Refactoring: Replace Comment With Name

# Refactoring: Introduce Parameter

# Feature Envy

a *code smell*

can be cured by **Refactoring: Move Method**

# Refactoring: Introduce Parameter

# The Book

![refactoring-fowler](./zen/refactoring-book.jpg)

# References

http://refactoring.com/

http://refactoring.com/catalog/

